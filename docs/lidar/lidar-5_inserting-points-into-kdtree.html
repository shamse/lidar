<!DOCTYPE html>
<html>
<head>
	<title>Lidar Obstacle Detection</title>
</head>
<body>

<div id="content" class="ureact-app__body"><div data-test="concept-main" class="_main--main--3mpPA"><div class="_main--content-container--ILkoI"><div><div class="index--container--2OwOl"><div class="index--atom--lmAIo layout--content--3Smmq"><div class="ltr"><div class="index-module--markdown--2MdcR ureact-markdown "><h1 id="inserting-points-into-kd-tree">Inserting Points into KD-Tree</h1>
</div></div><span></span></div></div></div><div><div class="index--container--2OwOl"><div class="index--atom--lmAIo layout--content--3Smmq"><div><div class="video-atom--video--1rflY"><div class="vds-loading vds-loading--md" role="status" aria-label="Loading…"><div class="vds-loading__children"><div class="_1UN_ejel6QzQCa_M5Nn4bu"><div class="_2lGVVA99VY-snhn6dzPP-z"><div class="_3h3jXAJ1HmC2_sa49itKME _2nvHtsDYiD14gMJ8MpUp2c"><div class=""><iframe frameborder="0" allowfullscreen="1" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" title="YouTube video player" width="720" height="405" src="https://www.youtube.com/embed/Va2NBXOTNlY?showinfo=0&amp;rel=0&amp;autohide=1&amp;vq=hd720&amp;hl=en-us&amp;cc_load_policy=0&amp;enablejsapi=1&amp;origin=https%3A%2F%2Fclassroom.udacity.com&amp;widgetid=23" id="widget24"></iframe></div></div></div></div></div></div></div></div><span></span></div></div></div><div><div class="index--container--2OwOl"><div class="index--atom--lmAIo layout--content--3Smmq"><div class="ltr"><div class="index-module--markdown--2MdcR ureact-markdown "><p>Now let’s talk about how exactly the tree is created. At the very beginning when the tree is empty, root is NULL. The point inserted becomes the root, and splits the x region. Here is what this visually looks like, after inserting the first point (-6.2, 7).</p>
</div></div><span></span></div></div></div><div><div class="index--container--2OwOl"><div class="index--atom--lmAIo layout--content--3Smmq"><div><div role="button" tabindex="0" aria-label="Show Image Fullscreen" class="image-atom--image-atom--1XDdu"><div class="image-atom-content--CDPca"><div class="image-and-annotations-container--1U01s"><img class="image--26lOQ" src="./lidar-5_files/kdtree1.png" alt="Insert first point, and split x region." width="938px"></div><div class="caption--2IK-Y"><div class="index-module--markdown--2MdcR ureact-markdown "><p>Insert first point, and split x region.</p>
</div></div></div></div></div><span></span></div></div></div><div><div class="index--container--2OwOl"><div class="index--atom--lmAIo layout--content--3Smmq"><div class="ltr"><div class="index-module--markdown--2MdcR ureact-markdown "><p>The next point is (-6.3, 8.4). Since we previously split in the x-dimension, and -6.3 is less than -6.2. This Node will be created and be a part of root's left node. The point (-6.3, 8.4) will split the region in the y dimension. </p>
<p>To recap, the root was at depth 0, and split the x region. The next point became the left child of root and had a depth of 1, and split the y region. </p>
<p>A point at depth 2 will split the x region again, so the split dimension number can actually be calculated as depth % 2, where 2 is the number of dimensions we are working with. The image below shows how the tree looks after inserting the second point.</p>
</div></div><span></span></div></div></div><div><div class="index--container--2OwOl"><div class="index--atom--lmAIo layout--content--3Smmq"><div><div role="button" tabindex="0" aria-label="Show Image Fullscreen" class="image-atom--image-atom--1XDdu"><div class="image-atom-content--CDPca"><div class="image-and-annotations-container--1U01s"><img class="image--26lOQ" src="./lidar-5_files/kdtree2.png" alt="Inserting second point, splitting y region this time." width="936px"></div><div class="caption--2IK-Y"><div class="index-module--markdown--2MdcR ureact-markdown "><p>Inserting second point, splitting y region this time.</p>
</div></div></div></div></div><span></span></div></div></div><div><div class="index--container--2OwOl"><div class="index--atom--lmAIo layout--content--3Smmq"><div class="ltr"><div class="index-module--markdown--2MdcR ureact-markdown "><p>Then here is what the tree looks like after inserting two more points (-5.2, 7.1) and (-5.7, 6.3), and having another x split division from point (-5.7, 6.3). The tree is now at depth 2.</p>
</div></div><span></span></div></div></div><div><div class="index--container--2OwOl"><div class="index--atom--lmAIo layout--content--3Smmq"><div><div role="button" tabindex="0" aria-label="Show Image Fullscreen" class="image-atom--image-atom--1XDdu"><div class="image-atom-content--CDPca"><div class="image-and-annotations-container--1U01s"><img class="image--26lOQ" src="./lidar-5_files/kdtree4.png" alt="Inserting two more points, splitting x region again." width="936px"></div><div class="caption--2IK-Y"><div class="index-module--markdown--2MdcR ureact-markdown "><p>Inserting two more points, splitting x region again.</p>
</div></div></div></div></div><span></span></div></div></div><div><div class="index--container--2OwOl"><div class="index--atom--lmAIo layout--content--3Smmq"><div class="ltr"><div class="index-module--markdown--2MdcR ureact-markdown "><p>The image below shows so far what the tree looks like after inserting those 4 points. The labeled nodes A, B, C, D, and E are all NULL but if the next point (7.2, 6.1) is inserted, which of those 5 nodes will the new point node be assigned to? Remember to traverse the tree starting at the root. The depth tells you which dimension (x or y) you should use for comparison.</p>
</div></div><span></span></div></div></div><div><div class="index--container--2OwOl"><div class="index--atom--lmAIo layout--content--3Smmq"><div><div role="button" tabindex="0" aria-label="Show Image Fullscreen" class="image-atom--image-atom--1XDdu"><div class="image-atom-content--CDPca"><div class="image-and-annotations-container--1U01s"><img class="image--26lOQ" src="./lidar-5_files/kdtree5.png" alt="Tree structure from first four points." width="617px"></div><div class="caption--2IK-Y"><div class="index-module--markdown--2MdcR ureact-markdown "><p>Tree structure from first four points.</p>
</div></div></div></div></div><span></span></div></div></div><div><div class="index--container--2OwOl"><div class="index--atom--lmAIo layout--content--3Smmq"><div><div class="container--3sWx1"><div class="prompt--1YMnx"><h3 class="question-number--3IlDk">Quiz Question</h3><div class="index-module--markdown--2MdcR ureact-markdown "><p>Which node should the point (7.2, 6.1) be inserted to?</p>
</div></div><ul><li class="answer--P2U4D"><div class="status--3geHI"><div class="selector--ctYfN" style="margin-right: 0.5em;"><input class="index-module--radio--J18uO" readonly="" id="ureact-radio-p7ukcxdv" type="radio" style="margin-right: 0.5em;"><label for="ureact-radio-p7ukcxdv" class="index-module--label--2OxfH"><div class="index-module--markdown--2MdcR ureact-markdown "><p>A</p>
</div></label></div></div></li><li class="answer--P2U4D"><div class="status--3geHI"><div class="selector--ctYfN" style="margin-right: 0.5em;"><input class="index-module--radio--J18uO" readonly="" id="ureact-radio-ybpf0vur" type="radio" style="margin-right: 0.5em;"><label for="ureact-radio-ybpf0vur" class="index-module--label--2OxfH"><div class="index-module--markdown--2MdcR ureact-markdown "><p>B</p>
</div></label></div></div></li><li class="answer--P2U4D"><div class="status--3geHI"><div class="selector--ctYfN" style="margin-right: 0.5em;"><input class="index-module--radio--J18uO" readonly="" id="ureact-radio-hdhc7ivv" type="radio" style="margin-right: 0.5em;"><label for="ureact-radio-hdhc7ivv" class="index-module--label--2OxfH"><div class="index-module--markdown--2MdcR ureact-markdown "><p>C</p>
</div></label></div></div></li><li class="answer-correct--3Mf9Q answer--P2U4D"><div class="status--3geHI"><div class="answered-label--2HFP8"><div class="index-module--markdown--2MdcR ureact-markdown "><p>D</p>
</div></div></div></li><li class="answer--P2U4D"><div class="status--3geHI"><div class="selector--ctYfN" style="margin-right: 0.5em;"><input class="index-module--radio--J18uO" readonly="" id="ureact-radio-hns39lhk" type="radio" style="margin-right: 0.5em;"><label for="ureact-radio-hns39lhk" class="index-module--label--2OxfH"><div class="index-module--markdown--2MdcR ureact-markdown "><p>E</p>
</div></label></div></div></li></ul></div><div class="radio-quiz-atom--buttons--Y7OWz _quiz-atom--buttons--3vJgG"><button class="vds-button vds-button--primary" type="button"><span class="vds-button__content">Submit</span></button></div></div><span></span></div></div></div><div><div class="index--container--2OwOl"><div class="index--atom--lmAIo layout--content--3Smmq"><div class="ltr"><div class="index-module--markdown--2MdcR ureact-markdown "><h2 id="solution">Solution</h2>
</div></div><span></span></div></div></div><div><div class="index--container--2OwOl"><div class="index--atom--lmAIo layout--content--3Smmq"><div><div class="video-atom--video--1rflY"><div class="vds-loading vds-loading--md" role="status" aria-label="Loading…"><div class="vds-loading__children"><div class="_1UN_ejel6QzQCa_M5Nn4bu"><div class="_2lGVVA99VY-snhn6dzPP-z"><div class="_3h3jXAJ1HmC2_sa49itKME _2nvHtsDYiD14gMJ8MpUp2c"><div class=""><iframe frameborder="0" allowfullscreen="1" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" title="YouTube video player" width="720" height="405" src="https://www.youtube.com/embed/Cah22dr0KWg?showinfo=0&amp;rel=0&amp;autohide=1&amp;vq=hd720&amp;hl=en-us&amp;cc_load_policy=0&amp;enablejsapi=1&amp;origin=https%3A%2F%2Fclassroom.udacity.com&amp;widgetid=25" id="widget26"></iframe></div></div></div></div></div></div></div></div><span></span></div></div></div><div><div class="index--container--2OwOl"><div class="index--atom--lmAIo layout--content--3Smmq"><div class="ltr"><div class="index-module--markdown--2MdcR ureact-markdown "><h2 id="improving-the-tree">Improving the Tree</h2>
</div></div><span></span></div></div></div><div><div class="index--container--2OwOl"><div class="index--atom--lmAIo layout--content--3Smmq"><div><div class="video-atom--video--1rflY"><div class="vds-loading vds-loading--md" role="status" aria-label="Loading…"><div class="vds-loading__children"><div class="_1UN_ejel6QzQCa_M5Nn4bu"><div class="_2lGVVA99VY-snhn6dzPP-z"><div class="_3h3jXAJ1HmC2_sa49itKME _2nvHtsDYiD14gMJ8MpUp2c"><div class=""><iframe frameborder="0" allowfullscreen="1" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" title="YouTube video player" width="640" height="360" src="https://www.youtube.com/embed/9rL2pQLAk4o?showinfo=0&amp;rel=0&amp;autohide=1&amp;vq=hd720&amp;hl=en-us&amp;cc_load_policy=0&amp;enablejsapi=1&amp;origin=https%3A%2F%2Fclassroom.udacity.com&amp;widgetid=27" id="widget28"></iframe></div></div></div></div></div></div></div></div><span></span></div></div></div><div><div class="index--container--2OwOl"><div class="index--atom--lmAIo layout--content--3Smmq"><div class="ltr"><div class="index-module--markdown--2MdcR ureact-markdown "><p>Having a balanced tree that evenly splits regions improves the search time for finding points later. To improve the tree, insert points that alternate between splitting the x region and the y region evenly. To do this pick the median of sorted x and y points. For instance if you are inserting the first four points that we used above (-6.3, 8.4), (-6.2, 7), (-5.2, 7.1), (-5.7, 6.3) we would first insert (-5.2,7.1) since it is the median along the x axis. If there is an even number of elements the lower median is chosen. The next point to be inserted would be (-6.2, 7), the median of the three points for y. This would be followed by (-5.7,6.3) the lower median between the two for x, and then finally (-6.3,8.4). This ordering will allow the tree to more evenly split the region space and improve search time later.</p>
</div></div><span></span></div></div></div></div><div><div class="_main--footer-container--3vC-_">
<!--	<button class="vds-button vds-button--secondary" type="button"><span class="vds-button__content">Next</span></button> -->
</div></div><noscript></noscript><noscript></noscript></div></div>

</body>
</html>